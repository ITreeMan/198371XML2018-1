<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Shopping List</title>
</head>
<body>
    <script>
        var title = document.createElement('h1')
        var label = document.createElement('label')
        var textIn = document.createElement('input')
        var button = document.createElement('button')
        var ul = document.createElement('ul')
        var p = document.createElement('p')

        label.setAttribute('for', 'itemIn')
        textIn.setAttribute('id', 'itemIn')

        title.innerHTML = 'My Toptoppy List'
        label.innerHTML = 'Enter a new item:'
        button.innerHTML = 'Add Item'
        p.innerHTML = 'The list has 0 item'

        button.addEventListener('click', function() {
            if(textIn.value == '')
                return null
            addItem()
        })

        function updateValue() {
            p.innerHTML = 'The list has ' + ul.childNodes.length + ' item'
            if(ul.childNodes.length > 1)
                p.innerHTML = p.innerHTML + 's'
        }

        function addItem() {
            var li = document.createElement('li')
            var span = document.createElement('span')
            var delete_button_for_delete_the_item_on_the_list = document.createElement('button')
            span.innerHTML = textIn.value
            
            delete_button_for_delete_the_item_on_the_list.innerHTML = 'Delete'
            delete_button_for_delete_the_item_on_the_list.style.fontSize = '8px'
            delete_button_for_delete_the_item_on_the_list.style.marginLeft = '10px'

            delete_button_for_delete_the_item_on_the_list.addEventListener('click', function() {
                delItem(delete_button_for_delete_the_item_on_the_list.parentNode)
            })

            li.appendChild(span)
            li.append(delete_button_for_delete_the_item_on_the_list)
            ul.appendChild(li)
            updateValue()
        }

        function delItem(item) {
            ul.removeChild(item)
            updateValue()
        }

        document.body.appendChild(title)
        document.body.appendChild(label)
        document.body.appendChild(textIn)
        document.body.appendChild(button)
        document.body.appendChild(ul)
        document.body.appendChild(p)
    </script>
</body>
</html>